<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

  <title>Hello, world!</title>


</head>


<body>


  <p>{{ singlepost.postcontain}}</p>
  <img src="{{ singlepost.postimage.url }}" alt="" style="width: 200px; height: 200px ;">
  <p>{{ singlepost.dateofpost }}</p>

  <br>





  <div class="container mt-5">
    <div class="d-flex justify-content-center row">

      <div class="col-md-6">
        
      

          <div class="d-flex justify-content-between p-3 border-top">
            <form method="GET" action="{% url 'comments' %}">
              {% csrf_token %}

              <input type="text" placeholder="reply comment" name="comment">
              <input type="hidden"  name="postid" value="{{ singlepost.id}}">
              <input type="hidden"  name="commentid" value="">


              <button type="submit"> Reply</button>
            </form>
            <div class="d-flex align-items-center border-left px-3 comments"><i class="fa fa-comment"></i><span
                class="ml-2">{{count }}</span></div>
          </div>


          <div class="bg-white comment-section">
            {% for comment in comment.all %}
            <div class="d-flex flex-row user p-2"><img class="rounded-circle" src="{{ profiledetial.profile_pic.url }}"
                width="50">
              <div class="d-flex flex-column ml-2"><span
                  class="name font-weight-bold">{{comment.user.username}}</span><span>{{comment.commentdate}}</span></div>
            </div>
  
            <div class="mt-2 p-2">
            
                          <ul>
                            <p class="comment-content">{{ comment.comment }}</p>

                            {% for reply in comment.replies.all %}
                                <li>
                                    {{ reply }}
                                </li>
                            {% endfor %}
                          <ul>
                        

              <div class="d-flex justify-content-between p-3 border-top">
                <form method="GET" action="{% url 'reply' %}">
                  {% csrf_token %}
    
                  <input type="text" placeholder="reply comment" name="comment">
              <input type="hidden"  name="postid" value="{{ singlepost.id}}">
                  <input type="hidden"  name="commentid" value="{{comment.id}}">

                  <button type="submit"> Reply</button>
                </form>
                <div class="d-flex align-items-center border-left px-3 comments"><i class="fa fa-comment"></i>
                  
                </div>
              </div>
              {% endfor %}
  
            </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Optional JavaScript; choose one of the two! -->

  <!-- Option 1: Bootstrap Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
    crossorigin="anonymous"></script>

  <!-- Option 2: Separate Popper and Bootstrap JS -->

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js"
    integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js"
    integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG"
    crossorigin="anonymous"></script>

</body>

</html>